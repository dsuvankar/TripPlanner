import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 64,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,

  history: [
    {
      role: "user",
      parts: [
        {
          text: "Generate a travel plan for the location: Kolkata, West Bengal, India, for 4 days for 2 people with a moderate budget. Provide a list of hotel options with the following details for each hotel:\n\nHotel name\nHotel address\nPrice range\nHotel image URL\nGeo coordinates\nRating\nDescription\nprice\nAdditionally, suggest an itinerary with the following details for each day:\n\nDay number\nTitle for the day's theme\nBest time to visit\nList of places to visit, where each place includes:\nPlace name\nPlace details\nPlace image URL\nGeo coordinates\nTicket pricing\nRating\nTime to spend at the location\nFormat the response in JSON.",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '```json\n{\n  "hotels": [\n    {\n      "name": "The Oberoi Grand Kolkata",\n      "address": "15, Jawaharlal Nehru Road, Kolkata, West Bengal 700001",\n      "price_range": "$40-$80",\n      "image_url": "https://www.theoberoi.com/images/hotels/kolkata/the-oberoi-grand-kolkata/exterior.jpg",\n      "geo_coordinates": "22.5448, 88.3438",\n      "rating": 4.5,\n      "description": "A historic landmark hotel with luxurious accommodations, fine dining, and impeccable service. Offers a glimpse into colonial-era Kolkata."\n    },\n    {\n      "name": "The Lalit Great Eastern Kolkata",\n      "address": "1, Chowringhee Road, Kolkata, West Bengal 700001",\n      "price_range": "$$-$$$",\n      "image_url": "https://www.thelaLit.com/images/hotels/kolkata/the-laLit-great-eastern-kolkata/exterior.jpg",\n      "geo_coordinates": "22.5456, 88.3421",\n      "rating": 4.0,\n      "description": "A heritage hotel known for its grand architecture and modern amenities. Offers comfortable stays and delicious dining options."\n    },\n    {\n      "name": "Novotel Kolkata Hotel and Residences",\n      "address": "1, J.B.S. Haldane Avenue, Kolkata, West Bengal 700032",\n      "price_range": "$$-$$$",\n      "image_url": "https://www.accorhotels.com/media/images/accorhotels-hotel/1/2/3/12348-15547-24-1200x700.jpg",\n      "geo_coordinates": "22.5619, 88.3542",\n      "rating": 4.0,\n      "description": "A modern hotel with spacious rooms, a rooftop pool, and a range of dining options. Conveniently located near the airport and business districts."\n    },\n    {\n      "name": "The Park Kolkata",\n      "address": "17, Park Street, Kolkata, West Bengal 700016",\n      "price_range": "$$-$$$",\n      "image_url": "https://www.theparkhotels.com/wp-content/uploads/2019/07/The-Park-Kolkata-Exterior.jpg",\n      "geo_coordinates": "22.5505, 88.3425",\n      "rating": 4.0,\n      "description": "A stylish hotel with contemporary design and a rooftop bar offering panoramic city views. Located on the vibrant Park Street."\n    },\n    {\n      "name": "The Peerless Inn",\n      "address": "3, Jawaharlal Nehru Road, Kolkata, West Bengal 700001",\n      "price_range": "$-$$",\n      "image_url": "https://www.peerlessinnkolkata.com/images/gallery/images/peerless-inn-kolkata-exterior-view.jpg",\n      "geo_coordinates": "22.5451, 88.3434",\n      "rating": 3.5,\n      "description": "A budget-friendly option offering comfortable stays and convenient access to popular attractions. Known for its warm hospitality."\n    }\n  ],\n  "itinerary": [\n    {\n      "day": 1,\n      "title": "Colonial Charm and Cultural Immersion",\n      "best_time_to_visit": "Morning",\n      "places": [\n        {\n          "name": "Victoria Memorial",\n          "details": "A grand marble building commemorating Queen Victoria, showcasing artifacts and a beautiful garden.",\n          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/Victoria_Memorial_Kolkata.jpg/1200px-Victoria_Memorial_Kolkata.jpg",\n          "geo_coordinates": "22.5533, 88.3397",\n          "ticket_pricing": "INR 20 for Indians, INR 600 for foreigners",\n          "rating": 4.5,\n          "time_to_spend": "2-3 hours"\n        },\n        {\n          "name": "Indian Museum",\n          "details": "The oldest and largest museum in India, showcasing a vast collection of art, artifacts, and natural history.",\n          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/3/31/Indian_Museum_Kolkata_building.jpg/1200px-Indian_Museum_Kolkata_building.jpg",\n          "geo_coordinates": "22.5476, 88.3408",\n          "ticket_pricing": "INR 10 for Indians, INR 500 for foreigners",\n          "rating": 4.0,\n          "time_to_spend": "2-3 hours"\n        },\n        {\n          "name": "St. Paul\'s Cathedral",\n          "details": "A historic Anglican cathedral with impressive architecture and a peaceful atmosphere.",\n          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/7/77/St._Paul%27s_Cathedral%2C_Kolkata.jpg/1200px-St._Paul%27s_Cathedral%2C_Kolkata.jpg",\n          "geo_coordinates": "22.5491, 88.3424",\n          "ticket_pricing": "Free entry",\n          "rating": 4.0,\n          "time_to_spend": "1 hour"\n        }\n      ]\n    },\n    {\n      "day": 2,\n      "title": "The Heart of Kolkata: Exploring Park Street and Beyond",\n      "best_time_to_visit": "Afternoon and Evening",\n      "places": [\n        {\n          "name": "Park Street",\n          "details": "A vibrant street lined with shops, restaurants, cafes, and theaters, offering a taste of Kolkata\'s nightlife.",\n          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/2/28/Park_Street_Kolkata.jpg/1200px-Park_Street_Kolkata.jpg",\n          "geo_coordinates": "22.5499, 88.3425",\n          "ticket_pricing": "N/A",\n          "rating": 4.0,\n          "time_to_spend": "3-4 hours"\n        },\n        {\n          "name": "The Calcutta Tramways",\n          "details": "Experience a ride on the iconic yellow trams, a unique and nostalgic mode of transportation in Kolkata.",\n          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/Kolkata_Tram.jpg/1200px-Kolkata_Tram.jpg",\n          "geo_coordinates": "22.5501, 88.3431",\n          "ticket_pricing": "INR 5",\n          "rating": 4.0,\n          "time_to_spend": "1-2 hours"\n        },\n        {\n          "name": "Jorasanko Thakur Bari",\n          "details": "The ancestral home of Rabindranath Tagore, a literary icon, offering insights into his life and works.",\n          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/3/34/Rabindranath_Tagore%27s_ancestral_home%2C_Jorasanko_Thakur_Bari%2C_Kolkata%2C_India.jpg/1200px-Rabindranath_Tagore%27s_ancestral_home%2C_Jorasanko_Thakur_Bari%2C_Kolkata%2C_India.jpg",\n          "geo_coordinates": "22.5629, 88.3420",\n          "ticket_pricing": "INR 10 for Indians, INR 200 for foreigners",\n          "rating": 4.0,\n          "time_to_spend": "1-2 hours"\n        }\n      ]\n    },\n    {\n      "day": 3,\n      "title": "The Spiritual Side: Temples and Ghats",\n      "best_time_to_visit": "Morning and Evening",\n      "places": [\n        {\n          "name": "Kalighat Kali Temple",\n          "details": "A sacred temple dedicated to Goddess Kali, attracting devotees from far and wide.",\n          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/9/9f/Kalighat_Kali_Temple_Kolkata.jpg/1200px-Kalighat_Kali_Temple_Kolkata.jpg",\n          "geo_coordinates": "22.5318, 88.3484",\n          "ticket_pricing": "Free entry",\n          "rating": 4.0,\n          "time_to_spend": "1-2 hours"\n        },\n        {\n          "name": "Dakshineswar Kali Temple",\n          "details": "A renowned temple on the banks of the Ganges, known for its beautiful architecture and spiritual significance.",\n          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/5/5d/Dakshineswar_Kali_Temple.jpg/1200px-Dakshineswar_Kali_Temple.jpg",\n          "geo_coordinates": "22.6954, 88.3483",\n          "ticket_pricing": "Free entry",\n          "rating": 4.5,\n          "time_to_spend": "2-3 hours"\n        },\n        {\n          "name": "Howrah Bridge",\n          "details": "A magnificent cantilever bridge spanning the Hooghly River, offering stunning views of the city.",\n          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/1/19/Howrah_Bridge_%28Kolkata%29.jpg/1200px-Howrah_Bridge_%28Kolkata%29.jpg",\n          "geo_coordinates": "22.5879, 88.3559",\n          "ticket_pricing": "N/A",\n          "rating": 4.5,\n          "time_to_spend": "1-2 hours"\n        }\n      ]\n    },\n    {\n      "day": 4,\n      "title": "Culinary Delights and Shopping Spree",\n      "best_time_to_visit": "All day",\n      "places": [\n        {\n          "name": "New Market",\n          "details": "A bustling marketplace offering a wide range of goods, from traditional handicrafts to modern fashion.",\n          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/New_Market_%28Kolkata%29.jpg/1200px-New_Market_%28Kolkata%29.jpg",\n          "geo_coordinates": "22.5505, 88.3408",\n          "ticket_pricing": "N/A",\n          "rating": 4.0,\n          "time_to_spend": "2-3 hours"\n        },\n        {\n          "name": "Flury\'s",\n          "details": "A famous tea room and bakery known for its delicious pastries, cakes, and sandwiches.",\n          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/Flurys_Kolkata.jpg/1200px-Flurys_Kolkata.jpg",\n          "geo_coordinates": "22.5517, 88.3414",\n          "ticket_pricing": "N/A",\n          "rating": 4.0,\n          "time_to_spend": "1-2 hours"\n        },\n        {\n          "name": "6 Ballygunge Place",\n          "details": "A renowned restaurant serving authentic Bengali cuisine in a traditional setting.",\n          "image_url": "https://www.zomato.com/kolkata/6-ballygunge-place-ballygunge/photos#tab=menu",\n          "geo_coordinates": "22.5456, 88.3535",\n          "ticket_pricing": "N/A",\n          "rating": 4.5,\n          "time_to_spend": "2-3 hours"\n        }\n      ]\n    }\n  ]\n}\n```',
        },
      ],
    },
  ],
});
